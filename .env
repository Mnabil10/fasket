# Database
DATABASE_URL=postgresql://fasket:fasket@localhost:5432/fasket?schema=public

# Authentication
JWT_ACCESS_SECRET=super-strong-access-secret-please-change
JWT_REFRESH_SECRET=super-strong-refresh-secret-please-change
JWT_ACCESS_TTL=900
JWT_REFRESH_TTL=1209600

# API / Server
PORT=4000
NODE_ENV=production
API_PREFIX=api
ENFORCE_HTTPS=false
ALLOWED_ORIGINS=https://fasket.shop,https://admin.fasket.cloud,https://automation.fasket.cloud,regex:^https?://localhost:\\d+$
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://127.0.0.1:5174,http://localhost:8100
AUTH_ADMIN_STATIC_OTP=123456

# Rate limiting & brute-force protection
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
AUTH_BRUTE_TTL=300
AUTH_BRUTE_MAX=5

# OTP
OTP_TTL_SECONDS=180

# Cache / Redis
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379
CACHE_DEFAULT_TTL=60
CATEGORIES_CACHE_TTL=60
PRODUCT_LIST_CACHE_TTL=60
HOME_CACHE_TTL=120
BULK_PRODUCT_BATCH_SIZE=25

# ========================
# Uploads & media (R2)
# ========================
UPLOADS_DRIVER=s3                  # s3 | local | inline
UPLOADS_DIR=uploads
UPLOAD_ALLOWED_MIME=image/jpeg,image/png,image/webp
UPLOAD_MAX_BYTES=10485760

# Cloudflare R2 bucket
S3_BUCKET=fasket-media
S3_REGION=auto

# R2 S3-compatible credentials (من الشاشة اللي بعتها)
S3_ACCESS_KEY_ID=7d82ead42e6b233e9069ef7d7b580b0e
S3_SECRET_ACCESS_KEY=faa7fc6e35f78f8a686665c37003b40bd8aca50e550029ed1b3f66b7700127d7

# R2 endpoint
S3_ENDPOINT=https://54c5b87421ddad51ca12b7f74a248fa0.r2.cloudflarestorage.com
S3_FORCE_PATH_STYLE=true

# مؤقتًا: استخدم الـ public dev URL كـ CDN لحد ما نعمل cdn.fasket.cloud
S3_PUBLIC_BASE_URL=https://pub-cc234b981c704cc38669340678897b60.r2.dev

# (اختياري) تشفير جانب السيرفر، غالبًا مش محتاجه دلوقتي
S3_SSE=

# للبيئة المحلية بس لو حابب ترجع تشتغل local
LOCAL_UPLOADS_BASE_URL=/uploads

# Observability
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.2
SENTRY_PROFILES_SAMPLE_RATE=0.2
SWAGGER_ENABLED=false
SWAGGER_BASIC_USER=
SWAGGER_BASIC_PASS=

AUTOMATION_WEBHOOK_URL=https://automation.fasket.cloud/webhook/fasket-events
AUTOMATION_HMAC_SECRET="Xy2ZHjyqI9Vh$frp"
AUTOMATION_WEBHOOK_SECRET="Xy2ZHjyqI9Vh$frp"


INTERNAL_SECRET=Xy2ZHjyqI9Vh$frp
INTERNAL_TELEGRAM_SECRET=Xy2ZHjyqI9Vh$frp

# Marketplace defaults (optional)
DEFAULT_BRANCH_LAT=
DEFAULT_BRANCH_LNG=
DEFAULT_DELIVERY_RATE_PER_KM_CENTS=200
DEFAULT_MIN_DELIVERY_FEE_CENTS=1000
DEFAULT_MAX_DELIVERY_FEE_CENTS=5000
DEFAULT_PLAN_MONTHLY_AMOUNT_CENTS=0
DEFAULT_PLAN_YEARLY_AMOUNT_CENTS=0
DEFAULT_PLAN_MONTHLY_COMMISSION_BPS=500
DEFAULT_PLAN_YEARLY_COMMISSION_BPS=500
DEFAULT_PLAN_TRIAL_DAYS=14
